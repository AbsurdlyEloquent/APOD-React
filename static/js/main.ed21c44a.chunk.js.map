{"version":3,"sources":["Nav.js","SearchBar.js","Item.js","Modal.js","App.js","index.js"],"names":["Nav","props","className","onClick","today","href","scrollTop","SearchBar","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","onSubmit","e","handler","type","min","max","placeholder","required","pattern","value","Item","render","id","state","hidden","style","background","src","index","that","this","setTimeout","show","setState","Component","Modal","hide","onKeyPress","tabIndex","modalProps","title","hdurl","alt","explanation","App","document","addEventListener","hideModal","modalHidden","setModal","data","map","item","i","key","url","fetch","process","then","res","json","preventDefault","target","tagName","getAttribute","children","modalKey","returned","body","documentElement","root","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.ed21c44a.chunk.js","sourcesContent":["import React from 'react'\nimport './Nav.css'\n\nfunction Nav(props) {\n  return (\n    <nav>\n      <ul className=\"list\">\n        <li onClick={props.today}>Today</li>\n        <a href=\"https://apod.nasa.gov/apod/\">APOD</a>\n        <a href=\"https://github.com/AbsurdlyEloquent/apod-react\">Source</a>\n        <li onClick={props.scrollTop}>Top</li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav\n","import React from 'react'\nimport './SearchBar.css'\n\nfunction SearchBar(props) {\n  //for setting today's date as the max date\n  let today = new Date();\n  let dd = today.getDate();\n  let mm = today.getMonth()+1; //January is 0!\n  let yyyy = today.getFullYear();\n  if(dd<10){\n    dd='0'+dd\n  }\n  if(mm<10){\n    mm='0'+mm\n  }\n  today = yyyy+'-'+mm+'-'+dd;\n\n  return (\n    <form onSubmit={e=>props.handler(e)} className=\"form\">\n    {/* 1995 is the first day of the APOD api */}\n    {/* This input type is not supported by safari and IE\n      It falls back to a text input that only accepts yyyy-mm-dd */}\n      <input className=\"date\" type='date' min='1995-06-16' max={today} placeholder=\"yyyy-mm-dd\" required pattern=\"\\d{4}-\\d{2}-\\d{2}\"/>\n      <input className=\"submit\" type='submit' value='Submit' />\n    </form>\n  )\n}\n\nexport default SearchBar\n","import React, { Component } from 'react'\nimport './Item.css'\n\nclass Item extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state ={\n      src: props.src,\n      index: props.index,\n      hidden: \"hidden\"\n    }\n  }\n  handler = (e) => {\n    this.props.handler(e)\n  }\n  //delays loading of divs, more visual than practical\n  //'this' in setTimeout refers to the window\n  componentDidMount() {\n    let that = this\n    setTimeout(()=>{\n      that.show()\n    }, 250*that.state.index)\n  }\n  show() {\n    this.setState({hidden: \"\"})\n  }\n  render = () => {\n    return (\n      <div onClick={e=>this.handler(e)} id={this.state.hidden} style={{background: `url('${this.state.src}')`}} className='box' index={this.state.index}></div>\n    )\n  }\n}\n\nexport default Item\n","import React from 'react'\nimport './Modal.css'\n\nfunction Modal(props) {\n  return (\n    <div id={props.id} className=\"modalRoot\" onClick={props.hide} onKeyPress={props.hide} tabIndex=\"0\">\n      <div className=\"modal\">\n        <h3>{props.modalProps.title}</h3>\n        <img src={props.modalProps.hdurl} alt=\"Retrieved from NASA Api\"/>\n        <p>{props.modalProps.explanation}</p>\n        <p onClick={props.hide} className=\"x\">&times;</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n","import React, { Component } from 'react';\nimport './App.css';\nimport Nav from './Nav.js'\nimport SearchBar from './SearchBar.js'\nimport Item from './Item.js'\nimport Modal from './Modal.js'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: [],\n      modalProps: {},\n      modalHidden: \"hidden\"\n    }\n  }\n\n  componentDidMount() {\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}&count=20`)\n      .then(returned => returned.json())\n      .then(returned => {this.setState({data: returned})});\n  }\n\n  render = () => {\n    //this is easier because you don't have to focus on a div\n    document.addEventListener('keyup', this.hideModal)\n    return (\n      <div className=\"body\">\n      {/* pass data about the image and hiding prop to the Modal */}\n      <Modal id={this.state.modalHidden} modalProps={this.state.modalProps} hide={this.hideModal}/>\n        <header className=\"header\">\n        {/*pass two methods to the Nav*/}\n          <Nav today={this.today} scrollTop={this.scrollTop}/>\n          <section className=\"section\">\n            <h1>Amazing Spectacular Astronomy Photos</h1>\n            <h4><i>Now in React</i></h4>\n          </section>\n          {/* pass event handler */}\n          <SearchBar handler={this.setModal}/>\n        </header>\n        <main className=\"main\">\n        {/* js */}\n          {this.state.data.map((item,i)=>{\n            return <Item handler={this.setModal} className=\"box\" key={i} src={item.url} index={i} />\n          })}\n        {/* js */}\n        </main>\n      </div>\n    )\n  }\n  today = () => {\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}`)\n      .then(res=>res.json())\n      .then(res=>{\n        this.setState({modalProps: res, modalHidden: \"\"})\n      });\n  }\n  setModal = (e) => {\n    e.preventDefault()\n    // if the event is coming from an box, get the data from that box\n    if(e.target.tagName === 'DIV') {\n      let i = e.target.getAttribute(\"index\")\n      this.setState({\n        modalProps: this.state.data[i],\n        modalHidden: \"\"\n      })\n      //if the event is coming from the form, get new data from the date in the box\n    } else if (e.target.tagName === 'FORM') {\n      fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}&date=${e.target.children[0].value}`)\n        .then(res=>res.json())\n        .then(res=>{\n          this.setState({modalProps: res, modalHidden:\"\"})\n        });\n    }\n  }\n  hideModal = (e) => {\n    if (e.target.className === \"modalRoot\" || e.target.className === 'x' || e.key === 'Escape') {\n      this.setState({\n        modalKey: null,\n        modalProps: {},\n        modalHidden: \"hidden\"\n      })\n    }\n  }\n  scrollTop() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nlet root = document.getElementById('root')\n\nReactDOM.render(\n    <App />,\n    root\n);\n"],"sourceRoot":""}