{"version":3,"sources":["Nav.js","SearchBar.js","Item.js","Modal.js","App.js","index.js"],"names":["Nav","props","className","onClick","today","href","scrollTop","SearchBar","Date","dd","getDate","mm","getMonth","yyyy","getFullYear","onSubmit","e","handler","class","type","min","max","value","Item","render","id","state","hidden","style","background","src","index","that","this","setTimeout","show","setState","Component","Modal","hide","modalProps","title","hdurl","alt","explanation","App","modalHidden","hideModal","setModal","data","map","item","i","key","url","fetch","process","then","res","json","preventDefault","target","tagName","getAttribute","children","modalKey","returned","document","body","documentElement","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.1afb13fb.chunk.js","sourcesContent":["import React from 'react'\nimport './Nav.css'\n\nfunction Nav(props) {\n  return (\n    <nav>\n      <ul className=\"list\">\n        <li onClick={props.today}>Today</li>\n        <a href=\"https://apod.nasa.gov/apod/\">APOD</a>\n        <a href=\"https://github.com/AbsurdlyEloquent/apod-react\">Source</a>\n        <li onClick={props.scrollTop}>Top</li>\n      </ul>\n    </nav>\n  )\n}\n\nexport default Nav\n","import React from 'react'\nimport './SearchBar.css'\n\nfunction SearchBar(props) {\n  //for setting today's date as the max date\n  let today = new Date();\n  let dd = today.getDate();\n  let mm = today.getMonth()+1; //January is 0!\n  let yyyy = today.getFullYear();\n  if(dd<10){\n    dd='0'+dd\n  }\n  if(mm<10){\n    mm='0'+mm\n  }\n  today = yyyy+'-'+mm+'-'+dd;\n\n  return (\n    <form onSubmit={e=>props.handler(e)} class=\"form\">\n    {/* 1995 is the first day of the APOD api */}\n      <input class=\"date\" type='date' min='1995-06-16' max={today}/>\n      <input class=\"submit\" type='submit' value='Submit' />\n    </form>\n  )\n}\n\nexport default SearchBar\n","import React, { Component } from 'react'\nimport './Item.css'\n\nclass Item extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state ={\n      src: props.src,\n      index: props.index,\n      hidden: \"hidden\"\n    }\n  }\n  handler = (e) => {\n    this.props.handler(e)\n  }\n  //delays loading of divs, more visual than practical\n  //'this' in setTimeout refers to the window\n  componentDidMount() {\n    let that = this\n    setTimeout(()=>{\n      that.show()\n    }, 250*that.state.index)\n  }\n  show() {\n    this.setState({hidden: \"\"})\n  }\n  render = () => {\n    return (\n      <div onClick={e=>this.handler(e)} id={this.state.hidden} style={{background: `url('${this.state.src}')`}} className='box' index={this.state.index}></div>\n    )\n  }\n}\n\nexport default Item\n","import React from 'react'\nimport './Modal.css'\n\nfunction Modal(props) {\n  return (\n    <div id={props.id} className=\"modalRoot\" onClick={props.hide}>\n      <div className=\"modal\">\n        <h3>{props.modalProps.title}</h3>\n        <img src={props.modalProps.hdurl} alt=\"Retrieved from NASA Api\"/>\n        <p>{props.modalProps.explanation}</p>\n        <p onClick={props.hide} className=\"x\">&times;</p>\n      </div>\n    </div>\n  )\n}\n\nexport default Modal\n","import React, { Component } from 'react';\nimport './App.css';\nimport Nav from './Nav.js'\nimport SearchBar from './SearchBar.js'\nimport Item from './Item.js'\nimport Modal from './Modal.js'\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      data: [],\n      modalProps: {},\n      modalHidden: \"hidden\"\n    }\n  }\n\n  componentDidMount() {\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}&count=20`)\n      .then(returned => returned.json())\n      .then(returned => {this.setState({data: returned})});\n  }\n\n  render = () => {\n    return (\n      <div className=\"body\">\n      // pass data about the image and hiding prop to the Modal\n      <Modal id={this.state.modalHidden} modalProps={this.state.modalProps} hide={this.hideModal}/>\n        <header className=\"header\">\n        {/*pass two methods to the Nav*/}\n          <Nav today={this.today} scrollTop={this.scrollTop}/>\n          <section className=\"section\">\n            <h1>Amazing Spectacular Astronomy Photos</h1>\n            <h4><i>Now in React</i></h4>\n          </section>\n          {/* pass event handler */}\n          <SearchBar handler={this.setModal}/>\n        </header>\n        <main className=\"main\">\n        {/* js */}\n          {this.state.data.map((item,i)=>{\n            return <Item handler={this.setModal} className=\"box\" key={i} src={item.url} index={i} />\n          })}\n        {/* js */}\n        </main>\n      </div>\n    )\n  }\n  today = () => {\n    fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}`)\n      .then(res=>res.json())\n      .then(res=>{\n        this.setState({modalProps: res, modalHidden: \"\"})\n      });\n  }\n  setModal = (e) => {\n    e.preventDefault()\n    // if the event is coming from an box, get the data from that box\n    if(e.target.tagName === 'DIV') {\n      let i = e.target.getAttribute(\"index\")\n      this.setState({\n        modalProps: this.state.data[i],\n        modalHidden: \"\"\n      })\n      //if the event is coming from the form, get new data from the date in the box\n    } else if (e.target.tagName === 'FORM') {\n      fetch(`https://api.nasa.gov/planetary/apod?api_key=${process.env.REACT_APP_API_KEY}&date=${e.target.children[0].value}`)\n        .then(res=>res.json())\n        .then(res=>{\n          this.setState({modalProps: res, modalHidden:\"\"})\n        });\n    }\n  }\n  hideModal = () => {\n    this.setState({\n      modalKey: null,\n      modalProps: {},\n      modalHidden: \"hidden\"\n    })\n  }\n  scrollTop() {\n    document.body.scrollTop = 0;\n    document.documentElement.scrollTop = 0;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n// this is to fix the styling of the body, I don't know how to do it in react\n"],"sourceRoot":""}